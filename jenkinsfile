#!groovy
pipeline {
  agent any
  environment {
    repoUrl = "http://52.163.243.66:8081/gitlab-instance-f390ce36/jadegit_azaas.git"
  }
  parameters {
    string(name:'repoBranch', defaultValue: '', description: 'git分支名称')  
  }
  triggers {
    GenericTrigger(
            genericVariables: [
              [key: 'branch', value: '$.ref']
            ],
            token: '_ZjfkjTZJAEg5seBtEts' ,
            causeString: ' Triggered on $branch' ,
            printContributedVariables: true,
            printPostContent: true
        )
  }
  stages {
    stage('getBranch'){
        steps{
                echo "hehe"
}
    }
}    
}
 
